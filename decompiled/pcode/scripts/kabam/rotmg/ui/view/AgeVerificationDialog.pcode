package kabam.rotmg.ui.view
{
   import com.company.assembleegameclient.parameters.Parameters;
   import com.company.assembleegameclient.ui.dialogs.Dialog;
   import flash.events.Event;
   import flash.filters.DropShadowFilter;
   import flash.text.TextFieldAutoSize;
   import kabam.rotmg.account.ui.components.DateField;
   import kabam.rotmg.text.model.TextKey;
   import kabam.rotmg.text.view.TextFieldDisplayConcrete;
   import kabam.rotmg.text.view.stringBuilder.LineBuilder;
   import org.osflash.signals.Signal;
   
   public class AgeVerificationDialog extends Dialog
   {
      
      private static const WIDTH:int = 300;
      
      {
         method
         name null
         returns null
         
         body
         maxstack 2
         localcount 1
         initscopedepth 9
         maxscopedepth 10
         
         code
         getlocal_0
         pushscope
         findproperty Qname(PrivateNamespace(null,"210"),"WIDTH")
         pushshort 300
         initproperty Qname(PrivateNamespace(null,"210"),"WIDTH")
         returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      private const BIRTH_DATE_BELOW_MINIMUM_ERROR:String = "AgeVerificationDialog.tooYoung";
      
      private const BIRTH_DATE_INVALID_ERROR:String = "AgeVerificationDialog.invalidBirthDate";
      
      private var ageVerificationField:DateField;
      
      private var errorLabel:TextFieldDisplayConcrete;
      
      private const MINIMUM_AGE:uint = 16;
      
      public const response:Signal;
      
      public function AgeVerificationDialog()
      {
         method
         name null
         returns null
         
         body
         maxstack 6
         localcount 1
         initscopedepth 10
         maxscopedepth 11
         
         code
         getlocal_0
         pushscope
         getlocal_0
         findpropstrict Qname(PackageNamespace("org.osflash.signals"),"Signal")
         getlex Qname(PackageNamespace(""),"Boolean")
         constructprop Qname(PackageNamespace("org.osflash.signals"),"Signal") 1
         initproperty Qname(PackageNamespace(""),"response")
         getlocal_0
         getlex Qname(PackageNamespace("kabam.rotmg.text.model"),"TextKey")
         getproperty Qname(PackageNamespace(""),"AGE_VERIFICATION_DIALOG_TITLE")
         pushstring ""
         getlex Qname(PackageNamespace("kabam.rotmg.text.model"),"TextKey")
         getproperty Qname(PackageNamespace(""),"AGE_VERIFICATION_DIALOG_LEFT")
         getlex Qname(PackageNamespace("kabam.rotmg.text.model"),"TextKey")
         getproperty Qname(PackageNamespace(""),"AGE_VERIFICATION_DIALOG_RIGHT")
         pushstring "/ageVerificationDialog"
         constructsuper 5
         findpropstrict Qname(PackageNamespace(""),"addEventListener")
         getlex Qname(PackageNamespace("com.company.assembleegameclient.ui.dialogs"),"Dialog")
         getproperty Qname(PackageNamespace(""),"LEFT_BUTTON")
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"210"),"onCancel")
         callpropvoid Qname(PackageNamespace(""),"addEventListener") 2
         findpropstrict Qname(PackageNamespace(""),"addEventListener")
         getlex Qname(PackageNamespace("com.company.assembleegameclient.ui.dialogs"),"Dialog")
         getproperty Qname(PackageNamespace(""),"RIGHT_BUTTON")
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"210"),"onVerify")
         callpropvoid Qname(PackageNamespace(""),"addEventListener") 2
         returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      override protected function makeUIAndAdd() : void
      {
         trait method Qname(ProtectedNamespace("kabam.rotmg.ui.view:AgeVerificationDialog"),"makeUIAndAdd")
         flag OVERRIDE
         dispid 0
         method
         name null
         returns Qname(PackageNamespace(""),"void")
         
         body
         maxstack 1
         localcount 1
         initscopedepth 10
         maxscopedepth 11
         
         code
         getlocal_0
         pushscope
         getlocal_0
         callpropvoid Qname(PrivateNamespace(null,"210"),"makeAgeVerificationAndErrorLabel") 0
         getlocal_0
         callpropvoid Qname(PrivateNamespace(null,"210"),"addChildren") 0
         returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      private function makeAgeVerificationAndErrorLabel() : void
      {
         trait method Qname(PrivateNamespace(null,"210"),"makeAgeVerificationAndErrorLabel")
         dispid 0
         method
         name null
         returns Qname(PackageNamespace(""),"void")
         
         body
         maxstack 1
         localcount 1
         initscopedepth 10
         maxscopedepth 11
         
         code
         getlocal_0
         pushscope
         getlocal_0
         callpropvoid Qname(PrivateNamespace(null,"210"),"makeAgeVerificationField") 0
         getlocal_0
         callpropvoid Qname(PrivateNamespace(null,"210"),"makeErrorLabel") 0
         returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      private function addChildren() : void
      {
         trait method Qname(PrivateNamespace(null,"210"),"addChildren")
         dispid 0
         method
         name null
         returns Qname(PackageNamespace(""),"void")
         
         body
         maxstack 2
         localcount 1
         initscopedepth 10
         maxscopedepth 11
         
         code
         getlocal_0
         pushscope
         getlex Qname(ProtectedNamespace("com.company.assembleegameclient.ui.dialogs:Dialog"),"uiWaiter")
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"210"),"ageVerificationField")
         callproperty Qname(PackageNamespace(""),"getTextChanged") 0
         callpropvoid Qname(PackageNamespace(""),"pushArgs") 1
         getlex Qname(PackageNamespace(""),"box_")
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"210"),"ageVerificationField")
         callpropvoid Qname(PackageNamespace(""),"addChild") 1
         getlex Qname(PackageNamespace(""),"box_")
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"210"),"errorLabel")
         callpropvoid Qname(PackageNamespace(""),"addChild") 1
         returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      override protected function initText(param1:String) : void
      {
         trait method Qname(ProtectedNamespace("kabam.rotmg.ui.view:AgeVerificationDialog"),"initText")
         flag OVERRIDE
         dispid 0
         method
         name null
         param Qname(PackageNamespace(""),"String")
         returns Qname(PackageNamespace(""),"void")
         
         body
         maxstack 9
         localcount 2
         initscopedepth 10
         maxscopedepth 11
         
         code
         getlocal_0
         pushscope
         findproperty Qname(PackageNamespace(""),"textText_")
         findpropstrict Qname(PackageNamespace("kabam.rotmg.text.view"),"TextFieldDisplayConcrete")
         constructprop Qname(PackageNamespace("kabam.rotmg.text.view"),"TextFieldDisplayConcrete") 0
         pushbyte 14
         callproperty Qname(PackageNamespace(""),"setSize") 1
         pushint 11776947
         callproperty Qname(PackageNamespace(""),"setColor") 1
         initproperty Qname(PackageNamespace(""),"textText_")
         getlex Qname(PackageNamespace(""),"textText_")
         getlex Qname(PrivateNamespace(null,"210"),"WIDTH")
         pushbyte 40
         subtract
         callpropvoid Qname(PackageNamespace(""),"setTextWidth") 1
         getlex Qname(PackageNamespace(""),"textText_")
         pushbyte 20
         setproperty Qname(PackageNamespace(""),"x")
         getlex Qname(PackageNamespace(""),"textText_")
         pushtrue
         callproperty Qname(PackageNamespace(""),"setMultiLine") 1
         pushtrue
         callproperty Qname(PackageNamespace(""),"setWordWrap") 1
         pushtrue
         callpropvoid Qname(PackageNamespace(""),"setHTML") 1
         getlex Qname(PackageNamespace(""),"textText_")
         getlex Qname(PackageNamespace("flash.text"),"TextFieldAutoSize")
         getproperty Qname(PackageNamespace(""),"LEFT")
         callpropvoid Qname(PackageNamespace(""),"setAutoSize") 1
         getlex Qname(PackageNamespace(""),"textText_")
         pushtrue
         setproperty Qname(PackageNamespace(""),"mouseEnabled")
         getlex Qname(PackageNamespace(""),"textText_")
         findpropstrict Qname(PackageNamespace("flash.filters"),"DropShadowFilter")
         pushbyte 0
         dup
         dup
         pushbyte 1
         pushbyte 6
         dup
         pushbyte 1
         constructprop Qname(PackageNamespace("flash.filters"),"DropShadowFilter") 7
         newarray 1
         setproperty Qname(PackageNamespace(""),"filters")
         getlocal_0
         callpropvoid Qname(PrivateNamespace(null,"210"),"setText") 0
         returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      private function setText() : void
      {
         trait method Qname(PrivateNamespace(null,"210"),"setText")
         dispid 0
         method
         name null
         returns Qname(PackageNamespace(""),"void")
         
         body
         maxstack 11
         localcount 4
         initscopedepth 10
         maxscopedepth 11
         
         code
         getlocal_0
         pushscope
         pushstring "<font color=\"#7777EE\"><a href=\""
         getlex Qname(PackageNamespace("com.company.assembleegameclient.parameters"),"Parameters")
         getproperty Qname(PackageNamespace(""),"TERMS_OF_USE_URL")
         add
         pushstring "\" target=\"_blank\">"
         add
         setlocal_1
         pushstring "<font color=\"#7777EE\"><a href=\""
         getlex Qname(PackageNamespace("com.company.assembleegameclient.parameters"),"Parameters")
         getproperty Qname(PackageNamespace(""),"PRIVACY_POLICY_URL")
         add
         pushstring "\" target=\"_blank\">"
         add
         setlocal_2
         pushstring "</a></font>"
         setlocal_3
         getlex Qname(PackageNamespace(""),"textText_")
         findpropstrict Qname(PackageNamespace("kabam.rotmg.text.view.stringBuilder"),"LineBuilder")
         constructprop Qname(PackageNamespace("kabam.rotmg.text.view.stringBuilder"),"LineBuilder") 0
         pushstring "AgeVerificationDialog.text"
         pushstring "tou"
         getlocal_1
         pushstring "_tou"
         getlocal_3
         pushstring "policy"
         getlocal_2
         pushstring "_policy"
         getlocal_3
         newobject 4
         callproperty Qname(PackageNamespace(""),"setParams") 2
         callpropvoid Qname(PackageNamespace(""),"setStringBuilder") 1
         returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      override protected function drawAdditionalUI() : void
      {
         trait method Qname(ProtectedNamespace("kabam.rotmg.ui.view:AgeVerificationDialog"),"drawAdditionalUI")
         flag OVERRIDE
         dispid 0
         method
         name null
         returns Qname(PackageNamespace(""),"void")
         
         body
         maxstack 3
         localcount 1
         initscopedepth 10
         maxscopedepth 11
         
         code
         getlocal_0
         pushscope
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"210"),"ageVerificationField")
         getlex Qname(PackageNamespace(""),"textText_")
         getlex Qname(PackageNamespace(""),"box_")
         callproperty Qname(PackageNamespace(""),"getBounds") 1
         getproperty Qname(PackageNamespace(""),"bottom")
         pushbyte 8
         add
         setproperty Qname(PackageNamespace(""),"y")
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"210"),"ageVerificationField")
         pushbyte 20
         setproperty Qname(PackageNamespace(""),"x")
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"210"),"errorLabel")
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"210"),"ageVerificationField")
         getproperty Qname(PackageNamespace(""),"y")
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"210"),"ageVerificationField")
         getproperty Qname(PackageNamespace(""),"height")
         add
         pushbyte 8
         add
         setproperty Qname(PackageNamespace(""),"y")
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"210"),"errorLabel")
         pushbyte 20
         setproperty Qname(PackageNamespace(""),"x")
         returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      private function makeAgeVerificationField() : void
      {
         trait method Qname(PrivateNamespace(null,"210"),"makeAgeVerificationField")
         dispid 0
         method
         name null
         returns Qname(PackageNamespace(""),"void")
         
         body
         maxstack 2
         localcount 1
         initscopedepth 10
         maxscopedepth 11
         
         code
         getlocal_0
         pushscope
         getlocal_0
         findpropstrict Qname(PackageNamespace("kabam.rotmg.account.ui.components"),"DateField")
         constructprop Qname(PackageNamespace("kabam.rotmg.account.ui.components"),"DateField") 0
         initproperty Qname(PrivateNamespace(null,"210"),"ageVerificationField")
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"210"),"ageVerificationField")
         getlex Qname(PackageNamespace("kabam.rotmg.text.model"),"TextKey")
         getproperty Qname(PackageNamespace(""),"BIRTHDAY")
         callpropvoid Qname(PackageNamespace(""),"setTitle") 1
         returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      private function makeErrorLabel() : void
      {
         trait method Qname(PrivateNamespace(null,"210"),"makeErrorLabel")
         dispid 0
         method
         name null
         returns Qname(PackageNamespace(""),"void")
         
         body
         maxstack 8
         localcount 1
         initscopedepth 10
         maxscopedepth 11
         
         code
         getlocal_0
         pushscope
         getlocal_0
         findpropstrict Qname(PackageNamespace("kabam.rotmg.text.view"),"TextFieldDisplayConcrete")
         constructprop Qname(PackageNamespace("kabam.rotmg.text.view"),"TextFieldDisplayConcrete") 0
         pushbyte 12
         callproperty Qname(PackageNamespace(""),"setSize") 1
         pushint 16549442
         callproperty Qname(PackageNamespace(""),"setColor") 1
         initproperty Qname(PrivateNamespace(null,"210"),"errorLabel")
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"210"),"errorLabel")
         pushtrue
         callpropvoid Qname(PackageNamespace(""),"setMultiLine") 1
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"210"),"errorLabel")
         findpropstrict Qname(PackageNamespace("flash.filters"),"DropShadowFilter")
         pushbyte 0
         dup
         dup
         pushdouble 0.5
         pushbyte 12
         dup
         constructprop Qname(PackageNamespace("flash.filters"),"DropShadowFilter") 6
         newarray 1
         setproperty Qname(PackageNamespace(""),"filters")
         returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      private function onCancel(param1:Event) : void
      {
         trait method Qname(PrivateNamespace(null,"210"),"onCancel")
         dispid 0
         method
         name null
         param Qname(PackageNamespace("flash.events"),"Event")
         returns Qname(PackageNamespace(""),"void")
         
         body
         maxstack 2
         localcount 2
         initscopedepth 10
         maxscopedepth 11
         
         code
         getlocal_0
         pushscope
         getlocal_0
         getproperty Qname(PackageNamespace(""),"response")
         pushfalse
         callpropvoid Qname(PackageNamespace(""),"dispatch") 1
         returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      private function onVerify(param1:Event) : void
      {
         trait method Qname(PrivateNamespace(null,"210"),"onVerify")
         dispid 0
         method
         name null
         param Qname(PackageNamespace("flash.events"),"Event")
         returns Qname(PackageNamespace(""),"void")
         
         body
         maxstack 3
         localcount 5
         initscopedepth 10
         maxscopedepth 11
         
         code
         getlocal_0
         pushscope
         pushfalse
         setlocal_3
         getlocal_0
         callproperty Qname(PrivateNamespace(null,"210"),"getPlayerAge") 0
         convert_u
         setlocal_2
         pushstring ""
         setlocal 4
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"210"),"ageVerificationField")
         callproperty Qname(PackageNamespace(""),"isValidDate") 0
         iftrue ofs0028
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"210"),"BIRTH_DATE_INVALID_ERROR")
         coerce_s
         setlocal 4
         pushtrue
         setlocal_3
         jump ofs0056
         ofs0028:getlocal_2
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"210"),"MINIMUM_AGE")
         lessthan
         dup
         iffalse ofs0036
         pop
         getlocal_3
         not
         ofs0036:iffalse ofs0047
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"210"),"BIRTH_DATE_BELOW_MINIMUM_ERROR")
         coerce_s
         setlocal 4
         pushtrue
         setlocal_3
         jump ofs0056
         ofs0047:pushstring ""
         setlocal 4
         pushfalse
         setlocal_3
         getlocal_0
         getproperty Qname(PackageNamespace(""),"response")
         pushtrue
         callpropvoid Qname(PackageNamespace(""),"dispatch") 1
         ofs0056:getlocal_0
         getproperty Qname(PrivateNamespace(null,"210"),"errorLabel")
         findpropstrict Qname(PackageNamespace("kabam.rotmg.text.view.stringBuilder"),"LineBuilder")
         constructprop Qname(PackageNamespace("kabam.rotmg.text.view.stringBuilder"),"LineBuilder") 0
         getlocal 4
         callproperty Qname(PackageNamespace(""),"setParams") 1
         callpropvoid Qname(PackageNamespace(""),"setStringBuilder") 1
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"210"),"ageVerificationField")
         getlocal_3
         callpropvoid Qname(PackageNamespace(""),"setErrorHighlight") 1
         findpropstrict Qname(ProtectedNamespace("com.company.assembleegameclient.ui.dialogs:Dialog"),"drawButtonsAndBackground")
         callpropvoid Qname(ProtectedNamespace("com.company.assembleegameclient.ui.dialogs:Dialog"),"drawButtonsAndBackground") 0
         returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      private function getPlayerAge() : uint
      {
         trait method Qname(PrivateNamespace(null,"210"),"getPlayerAge")
         dispid 0
         method
         name null
         returns Qname(PackageNamespace(""),"uint")
         
         body
         maxstack 3
         localcount 4
         initscopedepth 10
         maxscopedepth 11
         
         code
         getlocal_0
         pushscope
         findpropstrict Qname(PackageNamespace(""),"Date")
         getlocal_0
         callproperty Qname(PrivateNamespace(null,"210"),"getBirthDate") 0
         constructprop Qname(PackageNamespace(""),"Date") 1
         coerce Qname(PackageNamespace(""),"Date")
         setlocal_1
         findpropstrict Qname(PackageNamespace(""),"Date")
         constructprop Qname(PackageNamespace(""),"Date") 0
         coerce Qname(PackageNamespace(""),"Date")
         setlocal_2
         findpropstrict Qname(PackageNamespace(""),"Number")
         getlocal_2
         getproperty Qname(PackageNamespace(""),"fullYear")
         callproperty Qname(PackageNamespace(""),"Number") 1
         findpropstrict Qname(PackageNamespace(""),"Number")
         getlocal_1
         getproperty Qname(PackageNamespace(""),"fullYear")
         callproperty Qname(PackageNamespace(""),"Number") 1
         subtract
         convert_u
         setlocal_3
         getlocal_1
         getproperty Qname(PackageNamespace(""),"month")
         getlocal_2
         getproperty Qname(PackageNamespace(""),"month")
         greaterthan
         dup
         iftrue ofs0059
         pop
         getlocal_1
         getproperty Qname(PackageNamespace(""),"month")
         getlocal_2
         getproperty Qname(PackageNamespace(""),"month")
         equals
         dup
         iffalse ofs0059
         pop
         getlocal_1
         getproperty Qname(PackageNamespace(""),"date")
         getlocal_2
         getproperty Qname(PackageNamespace(""),"date")
         greaterthan
         ofs0059:iffalse ofs0061
         getlocal_3
         decrement
         convert_u
         setlocal_3
         ofs0061:getlocal_3
         returnvalue
         end ; code
         end ; body
         end ; method
      }
      
      private function getBirthDate() : Number
      {
         trait method Qname(PrivateNamespace(null,"210"),"getBirthDate")
         dispid 0
         method
         name null
         returns Qname(PackageNamespace(""),"Number")
         
         body
         maxstack 2
         localcount 1
         initscopedepth 10
         maxscopedepth 11
         
         code
         getlocal_0
         pushscope
         getlex Qname(PackageNamespace(""),"Date")
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"210"),"ageVerificationField")
         callproperty Qname(PackageNamespace(""),"getDate") 0
         callproperty Qname(PackageNamespace(""),"parse") 1
         returnvalue
         end ; code
         end ; body
         end ; method
      }
   }
}
