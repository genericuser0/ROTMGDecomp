package kabam.rotmg.language.model
{
   import flash.net.SharedObject;
   import flash.utils.Dictionary;
   
   public class CookieLanguageModel implements LanguageModel
   {
      
      public static const DEFAULT_LOCALE:String = "en";
      
      {
         method
         name null
         returns null
         
         body
         maxstack 2
         localcount 1
         initscopedepth 3
         maxscopedepth 4
         
         code
         getlocal_0
         pushscope
         findproperty Qname(PackageNamespace(""),"DEFAULT_LOCALE")
         pushstring "en"
         initproperty Qname(PackageNamespace(""),"DEFAULT_LOCALE")
         returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      private var cookie:SharedObject;
      
      private var language:String;
      
      private var availableLanguages:Dictionary;
      
      public function CookieLanguageModel()
      {
         method
         name null
         returns null
         
         body
         maxstack 4
         localcount 2
         initscopedepth 4
         maxscopedepth 7
         try from ofs000e to ofs0021 target ofs0025 type Qname(PackageNamespace(""),"Error") name Qname(PackageNamespace(""),"error")
         
         code
         getlocal_0
         pushscope
         getlocal_0
         getlocal_0
         callproperty Qname(PrivateNamespace(null,"439"),"makeAvailableLanguages") 0
         initproperty Qname(PrivateNamespace(null,"439"),"availableLanguages")
         getlocal_0
         constructsuper 0
         ofs000e:getlocal_0
         getlex Qname(PackageNamespace("flash.net"),"SharedObject")
         pushstring "RotMG"
         pushstring "/"
         callproperty Qname(PackageNamespace(""),"getLocal") 2
         initproperty Qname(PrivateNamespace(null,"439"),"cookie")
         ofs0021:jump ofs0033
         ofs0025:getlocal_0
         pushscope
         newcatch 0
         dup
         setlocal_1
         dup
         pushscope
         swap
         setslot 1
         popscope
         kill 1
         ofs0033:returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      public function getLanguage() : String
      {
         trait method Qname(PackageNamespace(""),"getLanguage")
         dispid 0
         method
         name null
         returns Qname(PackageNamespace(""),"String")
         
         body
         maxstack 3
         localcount 2
         initscopedepth 4
         maxscopedepth 5
         
         code
         getlocal_0
         pushscope
         getlocal_0
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"439"),"language")
         coerce_s
         dup
         iftrue ofs0014
         pop
         getlocal_0
         callproperty Qname(PrivateNamespace(null,"439"),"readLanguageFromCookie") 0
         coerce_s
         ofs0014:dup
         setlocal_1
         initproperty Qname(PrivateNamespace(null,"439"),"language")
         getlocal_1
         kill 1
         returnvalue
         end ; code
         end ; body
         end ; method
      }
      
      private function readLanguageFromCookie() : String
      {
         trait method Qname(PrivateNamespace(null,"439"),"readLanguageFromCookie")
         dispid 0
         method
         name null
         returns Qname(PackageNamespace(""),"String")
         
         body
         maxstack 2
         localcount 1
         initscopedepth 4
         maxscopedepth 5
         
         code
         getlocal_0
         pushscope
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"439"),"cookie")
         getproperty Qname(PackageNamespace(""),"data")
         getproperty Multiname("locale",[PrivateNamespace(null,"439"),PackageNamespace(""),PrivateNamespace(null,"1496"),PackageNamespace("kabam.rotmg.language.model"),PackageInternalNs("kabam.rotmg.language.model"),Namespace("http://adobe.com/AS3/2006/builtin"),ProtectedNamespace("kabam.rotmg.language.model:CookieLanguageModel"),StaticProtectedNs("kabam.rotmg.language.model:CookieLanguageModel")])
         coerce_s
         dup
         iftrue ofs0019
         pop
         getlex Qname(PackageNamespace(""),"DEFAULT_LOCALE")
         coerce_s
         ofs0019:returnvalue
         end ; code
         end ; body
         end ; method
      }
      
      public function setLanguage(param1:String) : void
      {
         trait method Qname(PackageNamespace(""),"setLanguage")
         dispid 0
         method
         name null
         param Qname(PackageNamespace(""),"String")
         returns Qname(PackageNamespace(""),"void")
         
         body
         maxstack 3
         localcount 3
         initscopedepth 4
         maxscopedepth 7
         try from ofs0007 to ofs001b target ofs001f type Qname(PackageNamespace(""),"Error") name Qname(PackageNamespace(""),"error")
         
         code
         getlocal_0
         pushscope
         getlocal_0
         getlocal_1
         setproperty Qname(PrivateNamespace(null,"439"),"language")
         ofs0007:getlocal_0
         getproperty Qname(PrivateNamespace(null,"439"),"cookie")
         getproperty Qname(PackageNamespace(""),"data")
         getlocal_1
         setproperty Multiname("locale",[PrivateNamespace(null,"439"),PackageNamespace(""),PrivateNamespace(null,"1496"),PackageNamespace("kabam.rotmg.language.model"),PackageInternalNs("kabam.rotmg.language.model"),Namespace("http://adobe.com/AS3/2006/builtin"),ProtectedNamespace("kabam.rotmg.language.model:CookieLanguageModel"),StaticProtectedNs("kabam.rotmg.language.model:CookieLanguageModel")])
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"439"),"cookie")
         callpropvoid Qname(PackageNamespace(""),"flush") 0
         ofs001b:jump ofs002d
         ofs001f:getlocal_0
         pushscope
         newcatch 0
         dup
         setlocal_2
         dup
         pushscope
         swap
         setslot 1
         popscope
         kill 2
         ofs002d:returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      public function getLanguageFamily() : String
      {
         trait method Qname(PackageNamespace(""),"getLanguageFamily")
         dispid 0
         method
         name null
         returns Qname(PackageNamespace(""),"String")
         
         body
         maxstack 3
         localcount 1
         initscopedepth 4
         maxscopedepth 5
         
         code
         getlocal_0
         pushscope
         getlocal_0
         callproperty Qname(PackageNamespace(""),"getLanguage") 0
         pushbyte 0
         pushbyte 2
         callproperty Qname(Namespace("http://adobe.com/AS3/2006/builtin"),"substr") 2
         callproperty Qname(Namespace("http://adobe.com/AS3/2006/builtin"),"toLowerCase") 0
         returnvalue
         end ; code
         end ; body
         end ; method
      }
      
      public function getLanguageNames() : Vector.<String>
      {
         trait method Qname(PackageNamespace(""),"getLanguageNames")
         dispid 0
         method
         name null
         returns TypeName(Qname(PackageNamespace("__AS3__.vec"),"Vector")<Qname(PackageNamespace(""),"String")>)
         
         body
         maxstack 2
         localcount 5
         initscopedepth 4
         maxscopedepth 5
         
         code
         getlocal_0
         pushscope
         pushnull
         coerce_s
         setlocal_2
         getlex Multiname("Vector",[PrivateNamespace(null,"439"),PackageNamespace(""),PrivateNamespace(null,"1496"),PackageNamespace("kabam.rotmg.language.model"),PackageInternalNs("kabam.rotmg.language.model"),Namespace("http://adobe.com/AS3/2006/builtin"),ProtectedNamespace("kabam.rotmg.language.model:CookieLanguageModel"),StaticProtectedNs("kabam.rotmg.language.model:CookieLanguageModel"),PackageNamespace("__AS3__.vec")])
         getlex Qname(PackageNamespace(""),"String")
         applytype 1
         construct 0
         coerce TypeName(Qname(PackageNamespace("__AS3__.vec"),"Vector")<Qname(PackageNamespace(""),"String")>)
         setlocal_1
         pushbyte 0
         setlocal_3
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"439"),"availableLanguages")
         coerce_a
         setlocal 4
         jump ofs002f
         ofs0021:label
         getlocal 4
         getlocal_3
         nextname
         coerce_s
         setlocal_2
         getlocal_1
         getlocal_2
         callpropvoid Qname(Namespace("http://adobe.com/AS3/2006/builtin"),"push") 1
         ofs002f:hasnext2 4 3
         iftrue ofs0021
         kill 4
         kill 3
         getlocal_1
         returnvalue
         end ; code
         end ; body
         end ; method
      }
      
      public function getLanguageCodeForName(param1:String) : String
      {
         trait method Qname(PackageNamespace(""),"getLanguageCodeForName")
         dispid 0
         method
         name null
         param Qname(PackageNamespace(""),"String")
         returns Qname(PackageNamespace(""),"String")
         
         body
         maxstack 2
         localcount 2
         initscopedepth 4
         maxscopedepth 5
         
         code
         getlocal_0
         pushscope
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"439"),"availableLanguages")
         getlocal_1
         getproperty MultinameL([PrivateNamespace(null,"439"),PackageNamespace(""),PrivateNamespace(null,"1496"),PackageNamespace("kabam.rotmg.language.model"),PackageInternalNs("kabam.rotmg.language.model"),Namespace("http://adobe.com/AS3/2006/builtin"),ProtectedNamespace("kabam.rotmg.language.model:CookieLanguageModel"),StaticProtectedNs("kabam.rotmg.language.model:CookieLanguageModel")])
         returnvalue
         end ; code
         end ; body
         end ; method
      }
      
      public function getNameForLanguageCode(param1:String) : String
      {
         trait method Qname(PackageNamespace(""),"getNameForLanguageCode")
         dispid 0
         method
         name null
         param Qname(PackageNamespace(""),"String")
         returns Qname(PackageNamespace(""),"String")
         
         body
         maxstack 2
         localcount 6
         initscopedepth 4
         maxscopedepth 5
         
         code
         getlocal_0
         pushscope
         pushnull
         coerce_s
         setlocal_2
         pushnull
         coerce_s
         setlocal_3
         pushbyte 0
         setlocal 4
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"439"),"availableLanguages")
         coerce_a
         setlocal 5
         jump ofs0030
         ofs0017:label
         getlocal 5
         getlocal 4
         nextname
         coerce_s
         setlocal_3
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"439"),"availableLanguages")
         getlocal_3
         getproperty MultinameL([PrivateNamespace(null,"439"),PackageNamespace(""),PrivateNamespace(null,"1496"),PackageNamespace("kabam.rotmg.language.model"),PackageInternalNs("kabam.rotmg.language.model"),Namespace("http://adobe.com/AS3/2006/builtin"),ProtectedNamespace("kabam.rotmg.language.model:CookieLanguageModel"),StaticProtectedNs("kabam.rotmg.language.model:CookieLanguageModel")])
         getlocal_1
         ifne ofs0030
         getlocal_3
         coerce_s
         setlocal_2
         ofs0030:hasnext2 5 4
         iftrue ofs0017
         kill 5
         kill 4
         getlocal_2
         returnvalue
         end ; code
         end ; body
         end ; method
      }
      
      private function makeAvailableLanguages() : Dictionary
      {
         trait method Qname(PrivateNamespace(null,"439"),"makeAvailableLanguages")
         dispid 0
         method
         name null
         returns Qname(PackageNamespace("flash.utils"),"Dictionary")
         
         body
         maxstack 3
         localcount 2
         initscopedepth 4
         maxscopedepth 5
         
         code
         getlocal_0
         pushscope
         findpropstrict Qname(PackageNamespace("flash.utils"),"Dictionary")
         constructprop Qname(PackageNamespace("flash.utils"),"Dictionary") 0
         coerce Qname(PackageNamespace("flash.utils"),"Dictionary")
         setlocal_1
         getlocal_1
         pushstring "Languages.English"
         pushstring "en"
         setproperty MultinameL([PrivateNamespace(null,"439"),PackageNamespace(""),PrivateNamespace(null,"1496"),PackageNamespace("kabam.rotmg.language.model"),PackageInternalNs("kabam.rotmg.language.model"),Namespace("http://adobe.com/AS3/2006/builtin"),ProtectedNamespace("kabam.rotmg.language.model:CookieLanguageModel"),StaticProtectedNs("kabam.rotmg.language.model:CookieLanguageModel")])
         getlocal_1
         pushstring "Languages.French"
         pushstring "fr"
         setproperty MultinameL([PrivateNamespace(null,"439"),PackageNamespace(""),PrivateNamespace(null,"1496"),PackageNamespace("kabam.rotmg.language.model"),PackageInternalNs("kabam.rotmg.language.model"),Namespace("http://adobe.com/AS3/2006/builtin"),ProtectedNamespace("kabam.rotmg.language.model:CookieLanguageModel"),StaticProtectedNs("kabam.rotmg.language.model:CookieLanguageModel")])
         getlocal_1
         pushstring "Languages.Spanish"
         pushstring "es"
         setproperty MultinameL([PrivateNamespace(null,"439"),PackageNamespace(""),PrivateNamespace(null,"1496"),PackageNamespace("kabam.rotmg.language.model"),PackageInternalNs("kabam.rotmg.language.model"),Namespace("http://adobe.com/AS3/2006/builtin"),ProtectedNamespace("kabam.rotmg.language.model:CookieLanguageModel"),StaticProtectedNs("kabam.rotmg.language.model:CookieLanguageModel")])
         getlocal_1
         pushstring "Languages.Italian"
         pushstring "it"
         setproperty MultinameL([PrivateNamespace(null,"439"),PackageNamespace(""),PrivateNamespace(null,"1496"),PackageNamespace("kabam.rotmg.language.model"),PackageInternalNs("kabam.rotmg.language.model"),Namespace("http://adobe.com/AS3/2006/builtin"),ProtectedNamespace("kabam.rotmg.language.model:CookieLanguageModel"),StaticProtectedNs("kabam.rotmg.language.model:CookieLanguageModel")])
         getlocal_1
         pushstring "Languages.German"
         pushstring "de"
         setproperty MultinameL([PrivateNamespace(null,"439"),PackageNamespace(""),PrivateNamespace(null,"1496"),PackageNamespace("kabam.rotmg.language.model"),PackageInternalNs("kabam.rotmg.language.model"),Namespace("http://adobe.com/AS3/2006/builtin"),ProtectedNamespace("kabam.rotmg.language.model:CookieLanguageModel"),StaticProtectedNs("kabam.rotmg.language.model:CookieLanguageModel")])
         getlocal_1
         pushstring "Languages.Turkish"
         pushstring "tr"
         setproperty MultinameL([PrivateNamespace(null,"439"),PackageNamespace(""),PrivateNamespace(null,"1496"),PackageNamespace("kabam.rotmg.language.model"),PackageInternalNs("kabam.rotmg.language.model"),Namespace("http://adobe.com/AS3/2006/builtin"),ProtectedNamespace("kabam.rotmg.language.model:CookieLanguageModel"),StaticProtectedNs("kabam.rotmg.language.model:CookieLanguageModel")])
         getlocal_1
         pushstring "Languages.Russian"
         pushstring "ru"
         setproperty MultinameL([PrivateNamespace(null,"439"),PackageNamespace(""),PrivateNamespace(null,"1496"),PackageNamespace("kabam.rotmg.language.model"),PackageInternalNs("kabam.rotmg.language.model"),Namespace("http://adobe.com/AS3/2006/builtin"),ProtectedNamespace("kabam.rotmg.language.model:CookieLanguageModel"),StaticProtectedNs("kabam.rotmg.language.model:CookieLanguageModel")])
         getlocal_1
         returnvalue
         end ; code
         end ; body
         end ; method
      }
   }
}
