package kabam.rotmg.chat.view
{
   import flash.display.Sprite;
   import flash.events.Event;
   import flash.events.KeyboardEvent;
   import flash.filters.GlowFilter;
   import flash.text.TextField;
   import flash.text.TextFieldType;
   import flash.ui.Keyboard;
   import kabam.rotmg.chat.model.ChatModel;
   import org.osflash.signals.Signal;
   
   public class ChatInput extends Sprite
   {
      
      {
         method
         name null
         returns null
         
         body
         maxstack 1
         localcount 1
         initscopedepth 8
         maxscopedepth 9
         
         code
         getlocal_0
         pushscope
         returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      public const message:Signal;
      
      public const close:Signal;
      
      private var input:TextField;
      
      private var enteredText:Boolean;
      
      private var lastInput:String = "";
      
      public function ChatInput()
      {
         method
         name null
         returns null
         
         body
         maxstack 3
         localcount 1
         initscopedepth 9
         maxscopedepth 10
         
         code
         getlocal_0
         pushscope
         getlocal_0
         findpropstrict Qname(PackageNamespace("org.osflash.signals"),"Signal")
         getlex Qname(PackageNamespace(""),"String")
         constructprop Qname(PackageNamespace("org.osflash.signals"),"Signal") 1
         initproperty Qname(PackageNamespace(""),"message")
         getlocal_0
         findpropstrict Qname(PackageNamespace("org.osflash.signals"),"Signal")
         constructprop Qname(PackageNamespace("org.osflash.signals"),"Signal") 0
         initproperty Qname(PackageNamespace(""),"close")
         getlocal_0
         constructsuper 0
         findproperty Qname(PackageNamespace(""),"visible")
         pushfalse
         initproperty Qname(PackageNamespace(""),"visible")
         getlocal_0
         pushfalse
         initproperty Qname(PrivateNamespace(null,"725"),"enteredText")
         returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      public function setup(param1:ChatModel, param2:TextField) : void
      {
         trait method Qname(PackageNamespace(""),"setup")
         dispid 0
         method
         name null
         param Qname(PackageNamespace("kabam.rotmg.chat.model"),"ChatModel")
         param Qname(PackageNamespace("flash.text"),"TextField")
         returns Qname(PackageNamespace(""),"void")
         
         body
         maxstack 4
         localcount 4
         initscopedepth 9
         maxscopedepth 10
         
         code
         getlocal_0
         pushscope
         findpropstrict Qname(PackageNamespace(""),"addChild")
         getlocal_0
         getlocal_2
         dup
         setlocal_3
         setproperty Qname(PrivateNamespace(null,"725"),"input")
         getlocal_3
         kill 3
         callpropvoid Qname(PackageNamespace(""),"addChild") 1
         getlocal_2
         getlocal_1
         getproperty Qname(PackageNamespace(""),"bounds")
         getproperty Qname(PackageNamespace(""),"width")
         pushbyte 2
         subtract
         setproperty Qname(PackageNamespace(""),"width")
         getlocal_2
         getlocal_1
         getproperty Qname(PackageNamespace(""),"lineHeight")
         setproperty Qname(PackageNamespace(""),"height")
         getlocal_2
         getlocal_1
         getproperty Qname(PackageNamespace(""),"bounds")
         getproperty Qname(PackageNamespace(""),"height")
         getlocal_1
         getproperty Qname(PackageNamespace(""),"lineHeight")
         subtract
         setproperty Qname(PackageNamespace(""),"y")
         returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      public function activate(param1:String, param2:Boolean) : void
      {
         trait method Qname(PackageNamespace(""),"activate")
         dispid 0
         method
         name null
         param Qname(PackageNamespace(""),"String")
         param Qname(PackageNamespace(""),"Boolean")
         returns Qname(PackageNamespace(""),"void")
         
         body
         maxstack 3
         localcount 4
         initscopedepth 9
         maxscopedepth 10
         
         code
         getlocal_0
         pushscope
         getlocal_0
         pushfalse
         initproperty Qname(PrivateNamespace(null,"725"),"enteredText")
         getlocal_1
         pushnull
         ifeq ofs0015
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"725"),"input")
         getlocal_1
         setproperty Qname(PackageNamespace(""),"text")
         ofs0015:getlocal_1
         iffalse ofs0023
         getlocal_1
         getproperty Qname(PackageNamespace(""),"length")
         convert_i
         jump ofs0025
         ofs0023:pushbyte 0
         ofs0025:convert_i
         setlocal_3
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"725"),"input")
         getlocal_3
         getlocal_3
         callpropvoid Qname(PackageNamespace(""),"setSelection") 2
         getlocal_2
         iffalse ofs0040
         getlocal_0
         callpropvoid Qname(PrivateNamespace(null,"725"),"activateEnabled") 0
         jump ofs0045
         ofs0040:getlocal_0
         callpropvoid Qname(PrivateNamespace(null,"725"),"activateDisabled") 0
         ofs0045:findproperty Qname(PackageNamespace(""),"visible")
         pushtrue
         initproperty Qname(PackageNamespace(""),"visible")
         returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      public function deactivate() : void
      {
         trait method Qname(PackageNamespace(""),"deactivate")
         dispid 0
         method
         name null
         returns Qname(PackageNamespace(""),"void")
         
         body
         maxstack 3
         localcount 2
         initscopedepth 9
         maxscopedepth 10
         
         code
         getlocal_0
         pushscope
         getlocal_0
         pushfalse
         initproperty Qname(PrivateNamespace(null,"725"),"enteredText")
         findpropstrict Qname(PackageNamespace(""),"removeEventListener")
         getlex Qname(PackageNamespace("flash.events"),"KeyboardEvent")
         getproperty Qname(PackageNamespace(""),"KEY_UP")
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"725"),"onKeyUp")
         callpropvoid Qname(PackageNamespace(""),"removeEventListener") 2
         getlex Qname(PackageNamespace(""),"stage")
         getlex Qname(PackageNamespace("flash.events"),"KeyboardEvent")
         getproperty Qname(PackageNamespace(""),"KEY_UP")
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"725"),"onTextChange")
         callpropvoid Qname(PackageNamespace(""),"removeEventListener") 2
         findproperty Qname(PackageNamespace(""),"visible")
         pushfalse
         initproperty Qname(PackageNamespace(""),"visible")
         getlex Qname(PackageNamespace(""),"stage")
         coerce_a
         dup
         iffalse ofs0049
         pop
         getlex Qname(PackageNamespace(""),"stage")
         pushnull
         dup
         setlocal_1
         setproperty Qname(PackageNamespace(""),"focus")
         getlocal_1
         kill 1
         coerce_a
         ofs0049:pop
         returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      public function hasEnteredText() : Boolean
      {
         trait method Qname(PackageNamespace(""),"hasEnteredText")
         dispid 0
         method
         name null
         returns Qname(PackageNamespace(""),"Boolean")
         
         body
         maxstack 1
         localcount 1
         initscopedepth 9
         maxscopedepth 10
         
         code
         getlocal_0
         pushscope
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"725"),"enteredText")
         returnvalue
         end ; code
         end ; body
         end ; method
      }
      
      private function activateEnabled() : void
      {
         trait method Qname(PrivateNamespace(null,"725"),"activateEnabled")
         dispid 0
         method
         name null
         returns Qname(PackageNamespace(""),"void")
         
         body
         maxstack 8
         localcount 2
         initscopedepth 9
         maxscopedepth 10
         
         code
         getlocal_0
         pushscope
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"725"),"input")
         getlex Qname(PackageNamespace("flash.text"),"TextFieldType")
         getproperty Qname(PackageNamespace(""),"INPUT")
         setproperty Qname(PackageNamespace(""),"type")
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"725"),"input")
         pushtrue
         setproperty Qname(PackageNamespace(""),"border")
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"725"),"input")
         pushtrue
         setproperty Qname(PackageNamespace(""),"selectable")
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"725"),"input")
         pushshort 128
         setproperty Qname(PackageNamespace(""),"maxChars")
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"725"),"input")
         pushint 16777215
         setproperty Qname(PackageNamespace(""),"borderColor")
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"725"),"input")
         pushbyte 18
         setproperty Qname(PackageNamespace(""),"height")
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"725"),"input")
         findpropstrict Qname(PackageNamespace("flash.filters"),"GlowFilter")
         pushbyte 0
         pushbyte 1
         pushbyte 3
         dup
         pushbyte 2
         pushbyte 1
         constructprop Qname(PackageNamespace("flash.filters"),"GlowFilter") 6
         newarray 1
         setproperty Qname(PackageNamespace(""),"filters")
         findpropstrict Qname(PackageNamespace(""),"addEventListener")
         getlex Qname(PackageNamespace("flash.events"),"KeyboardEvent")
         getproperty Qname(PackageNamespace(""),"KEY_UP")
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"725"),"onKeyUp")
         callpropvoid Qname(PackageNamespace(""),"addEventListener") 2
         getlex Qname(PackageNamespace(""),"stage")
         getlex Qname(PackageNamespace("flash.events"),"KeyboardEvent")
         getproperty Qname(PackageNamespace(""),"KEY_UP")
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"725"),"onTextChange")
         callpropvoid Qname(PackageNamespace(""),"addEventListener") 2
         getlex Qname(PackageNamespace(""),"stage")
         coerce_a
         dup
         iffalse ofs009b
         pop
         getlex Qname(PackageNamespace(""),"stage")
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"725"),"input")
         dup
         setlocal_1
         setproperty Qname(PackageNamespace(""),"focus")
         getlocal_1
         kill 1
         coerce_a
         ofs009b:pop
         returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      private function onTextChange(param1:Event) : void
      {
         trait method Qname(PrivateNamespace(null,"725"),"onTextChange")
         dispid 0
         method
         name null
         param Qname(PackageNamespace("flash.events"),"Event")
         returns Qname(PackageNamespace(""),"void")
         
         body
         maxstack 2
         localcount 2
         initscopedepth 9
         maxscopedepth 10
         
         code
         getlocal_0
         pushscope
         getlocal_0
         pushtrue
         initproperty Qname(PrivateNamespace(null,"725"),"enteredText")
         returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      private function activateDisabled() : void
      {
         trait method Qname(PrivateNamespace(null,"725"),"activateDisabled")
         dispid 0
         method
         name null
         returns Qname(PackageNamespace(""),"void")
         
         body
         maxstack 8
         localcount 1
         initscopedepth 9
         maxscopedepth 10
         
         code
         getlocal_0
         pushscope
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"725"),"input")
         getlex Qname(PackageNamespace("flash.text"),"TextFieldType")
         getproperty Qname(PackageNamespace(""),"DYNAMIC")
         setproperty Qname(PackageNamespace(""),"type")
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"725"),"input")
         pushfalse
         setproperty Qname(PackageNamespace(""),"border")
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"725"),"input")
         pushfalse
         setproperty Qname(PackageNamespace(""),"selectable")
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"725"),"input")
         findpropstrict Qname(PackageNamespace("flash.filters"),"GlowFilter")
         pushbyte 0
         pushbyte 1
         pushbyte 3
         dup
         pushbyte 2
         pushbyte 1
         constructprop Qname(PackageNamespace("flash.filters"),"GlowFilter") 6
         newarray 1
         setproperty Qname(PackageNamespace(""),"filters")
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"725"),"input")
         pushbyte 18
         setproperty Qname(PackageNamespace(""),"height")
         findpropstrict Qname(PackageNamespace(""),"removeEventListener")
         getlex Qname(PackageNamespace("flash.events"),"KeyboardEvent")
         getproperty Qname(PackageNamespace(""),"KEY_UP")
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"725"),"onKeyUp")
         callpropvoid Qname(PackageNamespace(""),"removeEventListener") 2
         getlex Qname(PackageNamespace(""),"stage")
         getlex Qname(PackageNamespace("flash.events"),"KeyboardEvent")
         getproperty Qname(PackageNamespace(""),"KEY_UP")
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"725"),"onTextChange")
         callpropvoid Qname(PackageNamespace(""),"removeEventListener") 2
         returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      private function onKeyUp(param1:KeyboardEvent) : void
      {
         trait method Qname(PrivateNamespace(null,"725"),"onKeyUp")
         dispid 0
         method
         name null
         param Qname(PackageNamespace("flash.events"),"KeyboardEvent")
         returns Qname(PackageNamespace(""),"void")
         
         body
         maxstack 3
         localcount 3
         initscopedepth 9
         maxscopedepth 10
         
         code
         getlocal_0
         pushscope
         pushbyte 0
         setlocal_2
         getlocal_1
         getproperty Qname(PackageNamespace(""),"keyCode")
         getlex Qname(PackageNamespace("flash.ui"),"Keyboard")
         getproperty Qname(PackageNamespace(""),"ENTER")
         ifne ofs004f
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"725"),"input")
         getproperty Qname(PackageNamespace(""),"text")
         pushstring ""
         ifeq ofs0036
         getlocal_0
         getproperty Qname(PackageNamespace(""),"message")
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"725"),"input")
         getproperty Qname(PackageNamespace(""),"text")
         callpropvoid Qname(PackageNamespace(""),"dispatch") 1
         jump ofs003e
         ofs0036:getlocal_0
         getproperty Qname(PackageNamespace(""),"close")
         callpropvoid Qname(PackageNamespace(""),"dispatch") 0
         ofs003e:getlocal_0
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"725"),"input")
         getproperty Qname(PackageNamespace(""),"text")
         initproperty Qname(PrivateNamespace(null,"725"),"lastInput")
         getlocal_1
         callpropvoid Qname(PackageNamespace(""),"stopImmediatePropagation") 0
         ofs004f:getlocal_1
         getproperty Qname(PackageNamespace(""),"keyCode")
         getlex Qname(PackageNamespace("flash.ui"),"Keyboard")
         getproperty Qname(PackageNamespace(""),"UP")
         ifne ofs0085
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"725"),"input")
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"725"),"lastInput")
         setproperty Qname(PackageNamespace(""),"text")
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"725"),"lastInput")
         getproperty Qname(PackageNamespace(""),"length")
         convert_i
         setlocal_2
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"725"),"input")
         getlocal_2
         getlocal_2
         callpropvoid Qname(PackageNamespace(""),"setSelection") 2
         getlocal_1
         callpropvoid Qname(PackageNamespace(""),"stopImmediatePropagation") 0
         ofs0085:returnvoid
         end ; code
         end ; body
         end ; method
      }
   }
}
