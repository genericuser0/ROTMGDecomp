package robotlegs.bender.framework.impl
{
   import flash.utils.Dictionary;
   import robotlegs.bender.framework.api.IMessageDispatcher;
   
   public final class MessageDispatcher implements IMessageDispatcher
   {
      
      {
         method
         name null
         returns null
         
         body
         maxstack 1
         localcount 1
         initscopedepth 3
         maxscopedepth 4
         
         code
         getlocal_0
         pushscope
         returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      private const _handlers:Dictionary;
      
      public function MessageDispatcher()
      {
         method
         name null
         returns null
         
         body
         maxstack 2
         localcount 1
         initscopedepth 4
         maxscopedepth 5
         
         code
         getlocal_0
         pushscope
         getlocal_0
         findpropstrict Qname(PackageNamespace("flash.utils"),"Dictionary")
         constructprop Qname(PackageNamespace("flash.utils"),"Dictionary") 0
         initproperty Qname(PrivateNamespace(null,"1080"),"_handlers")
         getlocal_0
         constructsuper 0
         returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      public function addMessageHandler(param1:Object, param2:Function) : void
      {
         trait method Qname(PackageNamespace(""),"addMessageHandler")
         dispid 0
         method
         name null
         param Qname(PackageNamespace(""),"Object")
         param Qname(PackageNamespace(""),"Function")
         returns Qname(PackageNamespace(""),"void")
         
         body
         maxstack 3
         localcount 4
         initscopedepth 4
         maxscopedepth 5
         
         code
         getlocal_0
         pushscope
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"1080"),"_handlers")
         getlocal_1
         getproperty MultinameL([PackageNamespace(""),PrivateNamespace(null,"1078"),PackageNamespace("robotlegs.bender.framework.impl"),Namespace("http://adobe.com/AS3/2006/builtin"),PrivateNamespace(null,"1080"),PackageInternalNs("robotlegs.bender.framework.impl"),ProtectedNamespace("robotlegs.bender.framework.impl:MessageDispatcher"),StaticProtectedNs("robotlegs.bender.framework.impl:MessageDispatcher")])
         coerce Qname(PackageNamespace(""),"Array")
         setlocal_3
         getlocal_3
         iffalse ofs002b
         getlocal_3
         getlocal_2
         callproperty Qname(Namespace("http://adobe.com/AS3/2006/builtin"),"indexOf") 1
         pushbyte -1
         ifne ofs0027
         getlocal_3
         getlocal_2
         callpropvoid Qname(Namespace("http://adobe.com/AS3/2006/builtin"),"push") 1
         ofs0027:jump ofs0037
         ofs002b:getlocal_0
         getproperty Qname(PrivateNamespace(null,"1080"),"_handlers")
         getlocal_1
         getlocal_2
         newarray 1
         setproperty MultinameL([PackageNamespace(""),PrivateNamespace(null,"1078"),PackageNamespace("robotlegs.bender.framework.impl"),Namespace("http://adobe.com/AS3/2006/builtin"),PrivateNamespace(null,"1080"),PackageInternalNs("robotlegs.bender.framework.impl"),ProtectedNamespace("robotlegs.bender.framework.impl:MessageDispatcher"),StaticProtectedNs("robotlegs.bender.framework.impl:MessageDispatcher")])
         ofs0037:returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      public function hasMessageHandler(param1:Object) : Boolean
      {
         trait method Qname(PackageNamespace(""),"hasMessageHandler")
         dispid 0
         method
         name null
         param Qname(PackageNamespace(""),"Object")
         returns Qname(PackageNamespace(""),"Boolean")
         
         body
         maxstack 2
         localcount 2
         initscopedepth 4
         maxscopedepth 5
         
         code
         getlocal_0
         pushscope
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"1080"),"_handlers")
         getlocal_1
         getproperty MultinameL([PackageNamespace(""),PrivateNamespace(null,"1078"),PackageNamespace("robotlegs.bender.framework.impl"),Namespace("http://adobe.com/AS3/2006/builtin"),PrivateNamespace(null,"1080"),PackageInternalNs("robotlegs.bender.framework.impl"),ProtectedNamespace("robotlegs.bender.framework.impl:MessageDispatcher"),StaticProtectedNs("robotlegs.bender.framework.impl:MessageDispatcher")])
         returnvalue
         end ; code
         end ; body
         end ; method
      }
      
      public function removeMessageHandler(param1:Object, param2:Function) : void
      {
         trait method Qname(PackageNamespace(""),"removeMessageHandler")
         dispid 0
         method
         name null
         param Qname(PackageNamespace(""),"Object")
         param Qname(PackageNamespace(""),"Function")
         returns Qname(PackageNamespace(""),"void")
         
         body
         maxstack 3
         localcount 5
         initscopedepth 4
         maxscopedepth 5
         
         code
         getlocal_0
         pushscope
         pushnull
         coerce Qname(PackageNamespace(""),"Array")
         setlocal_3
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"1080"),"_handlers")
         getlocal_1
         getproperty MultinameL([PackageNamespace(""),PrivateNamespace(null,"1078"),PackageNamespace("robotlegs.bender.framework.impl"),Namespace("http://adobe.com/AS3/2006/builtin"),PrivateNamespace(null,"1080"),PackageInternalNs("robotlegs.bender.framework.impl"),ProtectedNamespace("robotlegs.bender.framework.impl:MessageDispatcher"),StaticProtectedNs("robotlegs.bender.framework.impl:MessageDispatcher")])
         coerce Qname(PackageNamespace(""),"Array")
         setlocal_3
         getlocal_3
         iffalse ofs0023
         getlocal_3
         getlocal_2
         callproperty Qname(Namespace("http://adobe.com/AS3/2006/builtin"),"indexOf") 1
         convert_i
         jump ofs0025
         ofs0023:pushbyte -1
         ofs0025:convert_i
         dup
         setlocal 4
         pushbyte -1
         ifeq ofs004d
         getlocal_3
         getlocal 4
         pushbyte 1
         callpropvoid Qname(Namespace("http://adobe.com/AS3/2006/builtin"),"splice") 2
         getlocal_3
         getproperty Qname(PackageNamespace(""),"length")
         pushbyte 0
         ifne ofs004d
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"1080"),"_handlers")
         getlocal_1
         deleteproperty MultinameL([PackageNamespace(""),PrivateNamespace(null,"1078"),PackageNamespace("robotlegs.bender.framework.impl"),Namespace("http://adobe.com/AS3/2006/builtin"),PrivateNamespace(null,"1080"),PackageInternalNs("robotlegs.bender.framework.impl"),ProtectedNamespace("robotlegs.bender.framework.impl:MessageDispatcher"),StaticProtectedNs("robotlegs.bender.framework.impl:MessageDispatcher")])
         pop
         ofs004d:returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      public function dispatchMessage(param1:Object, param2:Function = null, param3:Boolean = false) : void
      {
         trait method Qname(PackageNamespace(""),"dispatchMessage")
         dispid 0
         method
         name null
         flag HAS_OPTIONAL
         param Qname(PackageNamespace(""),"Object")
         param Qname(PackageNamespace(""),"Function")
         param Qname(PackageNamespace(""),"Boolean")
         optional null
         optional false
         returns Qname(PackageNamespace(""),"void")
         
         body
         maxstack 4
         localcount 5
         initscopedepth 4
         maxscopedepth 5
         
         code
         getlocal_0
         pushscope
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"1080"),"_handlers")
         getlocal_1
         getproperty MultinameL([PackageNamespace(""),PrivateNamespace(null,"1078"),PackageNamespace("robotlegs.bender.framework.impl"),Namespace("http://adobe.com/AS3/2006/builtin"),PrivateNamespace(null,"1080"),PackageInternalNs("robotlegs.bender.framework.impl"),ProtectedNamespace("robotlegs.bender.framework.impl:MessageDispatcher"),StaticProtectedNs("robotlegs.bender.framework.impl:MessageDispatcher")])
         coerce Qname(PackageNamespace(""),"Array")
         dup
         setlocal 4
         iffalse ofs0043
         getlocal 4
         callproperty Qname(Namespace("http://adobe.com/AS3/2006/builtin"),"concat") 0
         coerce Qname(PackageNamespace(""),"Array")
         setlocal 4
         getlocal_3
         coerce_a
         dup
         iftrue ofs002f
         pop
         getlocal 4
         callproperty Qname(Namespace("http://adobe.com/AS3/2006/builtin"),"reverse") 0
         coerce_a
         ofs002f:pop
         findpropstrict Qname(PrivateNamespace(null,"1078"),"MessageRunner")
         getlocal_1
         getlocal 4
         getlocal_2
         constructprop Qname(PrivateNamespace(null,"1078"),"MessageRunner") 3
         callpropvoid Qname(PackageNamespace(""),"run") 0
         jump ofs0057
         ofs0043:getlocal_2
         coerce_a
         dup
         iffalse ofs0056
         pop
         findpropstrict Qname(PackageNamespace("robotlegs.bender.framework.impl"),"safelyCallBack")
         getlocal_2
         callproperty Qname(PackageNamespace("robotlegs.bender.framework.impl"),"safelyCallBack") 1
         coerce_a
         ofs0056:pop
         ofs0057:returnvoid
         end ; code
         end ; body
         end ; method
      }
   }
}

import robotlegs.bender.framework.impl.safelyCallBack;

class MessageRunner
{
   
   {
      method
      name null
      returns null
      
      body
      maxstack 1
      localcount 1
      initscopedepth 3
      maxscopedepth 4
      
      code
      getlocal_0
      pushscope
      returnvoid
      end ; code
      end ; body
      end ; method
   }
   
   private var _message:Object;
   
   private var _handlers:Array;
   
   private var _callback:Function;
   
   function MessageRunner(param1:Object, param2:Array, param3:Function)
   {
      method
      name null
      param Qname(PackageNamespace(""),"Object")
      param Qname(PackageNamespace(""),"Array")
      param Qname(PackageNamespace(""),"Function")
      returns null
      
      body
      maxstack 2
      localcount 4
      initscopedepth 4
      maxscopedepth 5
      
      code
      getlocal_0
      pushscope
      getlocal_0
      constructsuper 0
      getlocal_0
      getlocal_1
      initproperty Qname(PrivateNamespace(null,"1079"),"_message")
      getlocal_0
      getlocal_2
      initproperty Qname(PrivateNamespace(null,"1079"),"_handlers")
      getlocal_0
      getlocal_3
      initproperty Qname(PrivateNamespace(null,"1079"),"_callback")
      returnvoid
      end ; code
      end ; body
      end ; method
   }
   
   public function run() : void
   {
      trait method Qname(PackageNamespace(""),"run")
      dispid 0
      method
      name null
      returns Qname(PackageNamespace(""),"void")
      
      body
      maxstack 1
      localcount 1
      initscopedepth 4
      maxscopedepth 5
      
      code
      getlocal_0
      pushscope
      getlocal_0
      callpropvoid Qname(PrivateNamespace(null,"1079"),"next") 0
      returnvoid
      end ; code
      end ; body
      end ; method
   }
   
   private function next() : void
   {
      trait method Qname(PrivateNamespace(null,"1079"),"next")
      dispid 0
      method
      name null
      flag NEED_ACTIVATION
      returns Qname(PackageNamespace(""),"void")
      
      body
      maxstack 4
      localcount 3
      initscopedepth 5
      maxscopedepth 7
      
      code
      getlocal_0
      pushscope
      newactivation
      dup
      setlocal_1
      pushscope
      getscopeobject 1
      pushnull
      coerce Qname(PackageNamespace(""),"Function")
      setslot 1
      getscopeobject 1
      pushfalse
      setslot 2
      jump ofs0077
      ofs0016:label
      getscopeobject 1
      getslot 1
      getproperty Qname(PackageNamespace(""),"length")
      pushbyte 0
      ifne ofs0030
      getscopeobject 1
      getslot 1
      getglobalscope
      call 0
      pop
      jump ofs0077
      ofs0030:getscopeobject 1
      getslot 1
      getproperty Qname(PackageNamespace(""),"length")
      pushbyte 1
      ifne ofs004d
      getscopeobject 1
      getslot 1
      getglobalscope
      getlocal_0
      getproperty Qname(PrivateNamespace(null,"1079"),"_message")
      call 1
      pop
      jump ofs0077
      ofs004d:getscopeobject 1
      getslot 1
      getproperty Qname(PackageNamespace(""),"length")
      pushbyte 2
      ifne ofs006b
      getscopeobject 1
      getslot 1
      getglobalscope
      getlocal_0
      getproperty Qname(PrivateNamespace(null,"1079"),"_message")
      newfunction 17187
      call 2
      pop
      returnvoid
      ofs006b:findpropstrict Qname(PackageNamespace(""),"Error")
      pushstring "Bad handler signature"
      constructprop Qname(PackageNamespace(""),"Error") 1
      throw
      ofs0077:getscopeobject 1
      getlocal_0
      getproperty Qname(PrivateNamespace(null,"1079"),"_handlers")
      callproperty Qname(Namespace("http://adobe.com/AS3/2006/builtin"),"pop") 0
      dup
      setlocal_2
      coerce Qname(PackageNamespace(""),"Function")
      setslot 1
      getlocal_2
      kill 2
      iftrue ofs0016
      getlocal_0
      getproperty Qname(PrivateNamespace(null,"1079"),"_callback")
      coerce_a
      dup
      iffalse ofs00ad
      pop
      findpropstrict Qname(PackageNamespace("robotlegs.bender.framework.impl"),"safelyCallBack")
      getlocal_0
      getproperty Qname(PrivateNamespace(null,"1079"),"_callback")
      pushnull
      getlocal_0
      getproperty Qname(PrivateNamespace(null,"1079"),"_message")
      callproperty Qname(PackageNamespace("robotlegs.bender.framework.impl"),"safelyCallBack") 3
      coerce_a
      ofs00ad:pop
      returnvoid
      end ; code
      end ; body
      end ; method
   }
}
