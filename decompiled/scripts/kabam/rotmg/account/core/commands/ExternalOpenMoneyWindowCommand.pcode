package kabam.rotmg.account.core.commands
{
   import com.company.assembleegameclient.ui.dialogs.ErrorDialog;
   import flash.external.ExternalInterface;
   import flash.net.URLRequest;
   import flash.net.URLRequestMethod;
   import flash.net.URLVariables;
   import flash.net.navigateToURL;
   import io.decagames.rotmg.shop.PreparingPurchaseTransactionModal;
   import io.decagames.rotmg.ui.popups.modal.error.ErrorModal;
   import io.decagames.rotmg.ui.popups.signals.ClosePopupSignal;
   import io.decagames.rotmg.ui.popups.signals.ShowPopupSignal;
   import kabam.rotmg.account.core.Account;
   import kabam.rotmg.account.core.model.JSInitializedModel;
   import kabam.rotmg.account.core.model.MoneyConfig;
   import kabam.rotmg.account.web.WebAccount;
   import kabam.rotmg.appengine.api.AppEngineClient;
   import kabam.rotmg.application.api.ApplicationSetup;
   import kabam.rotmg.build.api.BuildData;
   import kabam.rotmg.build.api.BuildEnvironment;
   import kabam.rotmg.core.model.PlayerModel;
   import kabam.rotmg.dialogs.control.OpenDialogSignal;
   import kabam.rotmg.promotions.model.BeginnersPackageModel;
   import robotlegs.bender.framework.api.ILogger;
   
   public class ExternalOpenMoneyWindowCommand
   {
      
      {
         method
         name null
         returns null
         
         body
         maxstack 1
         localcount 1
         initscopedepth 3
         maxscopedepth 4
         
         code
         getlocal_0
         pushscope
         returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      [Inject]
      public var moneyWindowModel:JSInitializedModel;
      
      [Inject]
      public var account:Account;
      
      [Inject]
      public var moneyConfig:MoneyConfig;
      
      [Inject]
      public var openDialog:OpenDialogSignal;
      
      [Inject]
      public var logger:ILogger;
      
      [Inject]
      public var buildData:BuildData;
      
      [Inject]
      public var openDialogSignal:OpenDialogSignal;
      
      [Inject]
      public var applicationSetup:ApplicationSetup;
      
      [Inject]
      public var playerModel:PlayerModel;
      
      [Inject]
      public var beginnersPackageModel:BeginnersPackageModel;
      
      [Inject]
      public var client:AppEngineClient;
      
      [Inject]
      public var showPopup:ShowPopupSignal;
      
      [Inject]
      public var closePopupSignal:ClosePopupSignal;
      
      private var preparingModal:PreparingPurchaseTransactionModal;
      
      private const TESTING_ERROR_MESSAGE:String = "You cannot purchase gold on the testing server";
      
      private const REGISTRATION_ERROR_MESSAGE:String = "You must be registered to buy gold";
      
      public function ExternalOpenMoneyWindowCommand()
      {
         method
         name null
         returns null
         
         body
         maxstack 1
         localcount 1
         initscopedepth 4
         maxscopedepth 5
         
         code
         getlocal_0
         pushscope
         getlocal_0
         constructsuper 0
         returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      public function execute() : void
      {
         trait method Qname(PackageNamespace(""),"execute")
         dispid 0
         method
         name null
         returns Qname(PackageNamespace(""),"void")
         
         body
         maxstack 2
         localcount 1
         initscopedepth 4
         maxscopedepth 5
         
         code
         getlocal_0
         pushscope
         getlocal_0
         callproperty Qname(PrivateNamespace(null,"889"),"isGoldPurchaseEnabled") 0
         convert_b
         dup
         iffalse ofs0017
         pop
         getlocal_0
         getproperty Qname(PackageNamespace(""),"account")
         callproperty Qname(Namespace("kabam.rotmg.account.core:Account"),"isRegistered") 0
         convert_b
         ofs0017:iffalse ofs0024
         getlocal_0
         callpropvoid Qname(PrivateNamespace(null,"889"),"handleValidMoneyWindowRequest") 0
         jump ofs0029
         ofs0024:getlocal_0
         callpropvoid Qname(PrivateNamespace(null,"889"),"handleInvalidMoneyWindowRequest") 0
         ofs0029:returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      private function handleInvalidMoneyWindowRequest() : void
      {
         trait method Qname(PrivateNamespace(null,"889"),"handleInvalidMoneyWindowRequest")
         dispid 0
         method
         name null
         returns Qname(PackageNamespace(""),"void")
         
         body
         maxstack 3
         localcount 1
         initscopedepth 4
         maxscopedepth 5
         
         code
         getlocal_0
         pushscope
         getlocal_0
         callproperty Qname(PrivateNamespace(null,"889"),"isGoldPurchaseEnabled") 0
         iftrue ofs0022
         getlocal_0
         getproperty Qname(PackageNamespace(""),"openDialogSignal")
         findpropstrict Qname(PackageNamespace("com.company.assembleegameclient.ui.dialogs"),"ErrorDialog")
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"889"),"TESTING_ERROR_MESSAGE")
         constructprop Qname(PackageNamespace("com.company.assembleegameclient.ui.dialogs"),"ErrorDialog") 1
         callpropvoid Qname(PackageNamespace(""),"dispatch") 1
         jump ofs0041
         ofs0022:getlocal_0
         getproperty Qname(PackageNamespace(""),"account")
         callproperty Qname(Namespace("kabam.rotmg.account.core:Account"),"isRegistered") 0
         iftrue ofs0041
         getlocal_0
         getproperty Qname(PackageNamespace(""),"openDialogSignal")
         findpropstrict Qname(PackageNamespace("com.company.assembleegameclient.ui.dialogs"),"ErrorDialog")
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"889"),"REGISTRATION_ERROR_MESSAGE")
         constructprop Qname(PackageNamespace("com.company.assembleegameclient.ui.dialogs"),"ErrorDialog") 1
         callpropvoid Qname(PackageNamespace(""),"dispatch") 1
         ofs0041:returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      private function handleValidMoneyWindowRequest() : void
      {
         trait method Qname(PrivateNamespace(null,"889"),"handleValidMoneyWindowRequest")
         dispid 0
         method
         name null
         flag NEED_ACTIVATION
         returns Qname(PackageNamespace(""),"void")
         
         body
         maxstack 3
         localcount 3
         initscopedepth 5
         maxscopedepth 10
         try from ofs0034 to ofs0039 target ofs003d type Qname(PackageNamespace(""),"Error") name Qname(PackageNamespace(""),"e")
         
         code
         getlocal_0
         pushscope
         newactivation
         dup
         setlocal_1
         pushscope
         getlocal_0
         getproperty Qname(PackageNamespace(""),"account")
         getlex Qname(PackageNamespace("kabam.rotmg.account.web"),"WebAccount")
         istypelate
         dup
         iffalse ofs0027
         pop
         findpropstrict Qname(PackageNamespace("kabam.rotmg.account.web"),"WebAccount")
         getlocal_0
         getproperty Qname(PackageNamespace(""),"account")
         callproperty Qname(PackageNamespace("kabam.rotmg.account.web"),"WebAccount") 1
         getproperty Qname(PackageNamespace(""),"paymentProvider")
         pushstring "paymentwall"
         equals
         ofs0027:iffalse ofs0034
         getlocal_0
         callpropvoid Qname(PrivateNamespace(null,"889"),"requestPaymentToken") 0
         jump ofs0054
         ofs0034:getlocal_0
         callpropvoid Qname(PrivateNamespace(null,"889"),"openKabamMoneyWindowFromBrowser") 0
         ofs0039:jump ofs0054
         ofs003d:getlocal_0
         pushscope
         getlocal_1
         pushscope
         newcatch 0
         dup
         setlocal_2
         dup
         pushscope
         swap
         setslot 1
         findpropstrict Qname(PrivateNamespace(null,"889"),"openKabamMoneyWindowFromStandalonePlayer")
         callpropvoid Qname(PrivateNamespace(null,"889"),"openKabamMoneyWindowFromStandalonePlayer") 0
         popscope
         kill 2
         ofs0054:returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      private function openKabamMoneyWindowFromStandalonePlayer() : void
      {
         trait method Qname(PrivateNamespace(null,"889"),"openKabamMoneyWindowFromStandalonePlayer")
         dispid 0
         method
         name null
         returns Qname(PackageNamespace(""),"void")
         
         body
         maxstack 3
         localcount 4
         initscopedepth 4
         maxscopedepth 5
         
         code
         getlocal_0
         pushscope
         getlocal_0
         getproperty Qname(PackageNamespace(""),"applicationSetup")
         pushtrue
         callproperty Qname(Namespace("kabam.rotmg.application.api:ApplicationSetup"),"getAppEngineUrl") 1
         coerce_s
         setlocal_1
         findpropstrict Qname(PackageNamespace("flash.net"),"URLVariables")
         constructprop Qname(PackageNamespace("flash.net"),"URLVariables") 0
         coerce Qname(PackageNamespace("flash.net"),"URLVariables")
         setlocal_2
         findpropstrict Qname(PackageNamespace("flash.net"),"URLRequest")
         constructprop Qname(PackageNamespace("flash.net"),"URLRequest") 0
         coerce Qname(PackageNamespace("flash.net"),"URLRequest")
         setlocal_3
         getlocal_2
         getlocal_0
         getproperty Qname(PackageNamespace(""),"account")
         callproperty Qname(Namespace("kabam.rotmg.account.core:Account"),"getMoneyUserId") 0
         setproperty Multiname("naid",[PrivateNamespace(null,"889"),PackageNamespace(""),PrivateNamespace(null,"1842"),PackageNamespace("kabam.rotmg.account.core.commands"),PackageInternalNs("kabam.rotmg.account.core.commands"),Namespace("http://adobe.com/AS3/2006/builtin"),ProtectedNamespace("kabam.rotmg.account.core.commands:ExternalOpenMoneyWindowCommand"),StaticProtectedNs("kabam.rotmg.account.core.commands:ExternalOpenMoneyWindowCommand")])
         getlocal_2
         getlocal_0
         getproperty Qname(PackageNamespace(""),"account")
         callproperty Qname(Namespace("kabam.rotmg.account.core:Account"),"getMoneyAccessToken") 0
         setproperty Multiname("signedRequest",[PrivateNamespace(null,"889"),PackageNamespace(""),PrivateNamespace(null,"1842"),PackageNamespace("kabam.rotmg.account.core.commands"),PackageInternalNs("kabam.rotmg.account.core.commands"),Namespace("http://adobe.com/AS3/2006/builtin"),ProtectedNamespace("kabam.rotmg.account.core.commands:ExternalOpenMoneyWindowCommand"),StaticProtectedNs("kabam.rotmg.account.core.commands:ExternalOpenMoneyWindowCommand")])
         getlocal_0
         getproperty Qname(PackageNamespace(""),"beginnersPackageModel")
         callproperty Qname(PackageNamespace(""),"isBeginnerAvailable") 0
         iffalse ofs0054
         getlocal_2
         getlocal_0
         getproperty Qname(PackageNamespace(""),"beginnersPackageModel")
         callproperty Qname(PackageNamespace(""),"getUserCreatedAt") 0
         setproperty Multiname("createdat",[PrivateNamespace(null,"889"),PackageNamespace(""),PrivateNamespace(null,"1842"),PackageNamespace("kabam.rotmg.account.core.commands"),PackageInternalNs("kabam.rotmg.account.core.commands"),Namespace("http://adobe.com/AS3/2006/builtin"),ProtectedNamespace("kabam.rotmg.account.core.commands:ExternalOpenMoneyWindowCommand"),StaticProtectedNs("kabam.rotmg.account.core.commands:ExternalOpenMoneyWindowCommand")])
         jump ofs005b
         ofs0054:getlocal_2
         pushbyte 0
         setproperty Multiname("createdat",[PrivateNamespace(null,"889"),PackageNamespace(""),PrivateNamespace(null,"1842"),PackageNamespace("kabam.rotmg.account.core.commands"),PackageInternalNs("kabam.rotmg.account.core.commands"),Namespace("http://adobe.com/AS3/2006/builtin"),ProtectedNamespace("kabam.rotmg.account.core.commands:ExternalOpenMoneyWindowCommand"),StaticProtectedNs("kabam.rotmg.account.core.commands:ExternalOpenMoneyWindowCommand")])
         ofs005b:getlocal_3
         getlocal_1
         pushstring "/credits/kabamadd"
         add
         setproperty Qname(PackageNamespace(""),"url")
         getlocal_3
         getlex Qname(PackageNamespace("flash.net"),"URLRequestMethod")
         getproperty Qname(PackageNamespace(""),"POST")
         setproperty Qname(PackageNamespace(""),"method")
         getlocal_3
         getlocal_2
         setproperty Qname(PackageNamespace(""),"data")
         findpropstrict Qname(PackageNamespace("flash.net"),"navigateToURL")
         getlocal_3
         pushstring "_blank"
         callpropvoid Qname(PackageNamespace("flash.net"),"navigateToURL") 2
         getlocal_0
         getproperty Qname(PackageNamespace(""),"logger")
         pushstring "Opening window from standalone player"
         callpropvoid Qname(Namespace("robotlegs.bender.framework.api:ILogger"),"debug") 1
         returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      private function openPaymentwallMoneyWindowFromStandalonePlayer(param1:String) : void
      {
         trait method Qname(PrivateNamespace(null,"889"),"openPaymentwallMoneyWindowFromStandalonePlayer")
         dispid 0
         method
         name null
         param Qname(PackageNamespace(""),"String")
         returns Qname(PackageNamespace(""),"void")
         
         body
         maxstack 3
         localcount 5
         initscopedepth 4
         maxscopedepth 5
         
         code
         getlocal_0
         pushscope
         getlocal_0
         getproperty Qname(PackageNamespace(""),"applicationSetup")
         pushtrue
         callproperty Qname(Namespace("kabam.rotmg.application.api:ApplicationSetup"),"getAppEngineUrl") 1
         coerce_s
         setlocal_2
         findpropstrict Qname(PackageNamespace("flash.net"),"URLVariables")
         constructprop Qname(PackageNamespace("flash.net"),"URLVariables") 0
         coerce Qname(PackageNamespace("flash.net"),"URLVariables")
         setlocal_3
         findpropstrict Qname(PackageNamespace("flash.net"),"URLRequest")
         constructprop Qname(PackageNamespace("flash.net"),"URLRequest") 0
         coerce Qname(PackageNamespace("flash.net"),"URLRequest")
         setlocal 4
         getlocal_3
         getlocal_1
         setproperty Multiname("iframeUrl",[PrivateNamespace(null,"889"),PackageNamespace(""),PrivateNamespace(null,"1842"),PackageNamespace("kabam.rotmg.account.core.commands"),PackageInternalNs("kabam.rotmg.account.core.commands"),Namespace("http://adobe.com/AS3/2006/builtin"),ProtectedNamespace("kabam.rotmg.account.core.commands:ExternalOpenMoneyWindowCommand"),StaticProtectedNs("kabam.rotmg.account.core.commands:ExternalOpenMoneyWindowCommand")])
         getlocal 4
         getlocal_2
         pushstring "/credits/pwpurchase"
         add
         setproperty Qname(PackageNamespace(""),"url")
         getlocal 4
         getlex Qname(PackageNamespace("flash.net"),"URLRequestMethod")
         getproperty Qname(PackageNamespace(""),"POST")
         setproperty Qname(PackageNamespace(""),"method")
         getlocal 4
         getlocal_3
         setproperty Qname(PackageNamespace(""),"data")
         findpropstrict Qname(PackageNamespace("flash.net"),"navigateToURL")
         getlocal 4
         pushstring "_blank"
         callpropvoid Qname(PackageNamespace("flash.net"),"navigateToURL") 2
         getlocal_0
         getproperty Qname(PackageNamespace(""),"logger")
         pushstring "Opening window from standalone player"
         callpropvoid Qname(Namespace("robotlegs.bender.framework.api:ILogger"),"debug") 1
         returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      private function initializeMoneyWindow() : void
      {
         trait method Qname(PrivateNamespace(null,"889"),"initializeMoneyWindow")
         dispid 0
         method
         name null
         returns Qname(PackageNamespace(""),"void")
         
         body
         maxstack 5
         localcount 2
         initscopedepth 4
         maxscopedepth 5
         
         code
         getlocal_0
         pushscope
         pushnan
         setlocal_1
         getlocal_0
         getproperty Qname(PackageNamespace(""),"moneyWindowModel")
         getproperty Qname(PackageNamespace(""),"isInitialized")
         iftrue ofs0056
         getlocal_0
         getproperty Qname(PackageNamespace(""),"beginnersPackageModel")
         callproperty Qname(PackageNamespace(""),"isBeginnerAvailable") 0
         iffalse ofs0029
         getlocal_0
         getproperty Qname(PackageNamespace(""),"beginnersPackageModel")
         callproperty Qname(PackageNamespace(""),"getUserCreatedAt") 0
         convert_d
         setlocal_1
         jump ofs002d
         ofs0029:pushbyte 0
         convert_d
         setlocal_1
         ofs002d:getlex Qname(PackageNamespace("flash.external"),"ExternalInterface")
         getlocal_0
         getproperty Qname(PackageNamespace(""),"moneyConfig")
         callproperty Qname(Namespace("kabam.rotmg.account.core.model:MoneyConfig"),"jsInitializeFunction") 0
         getlocal_0
         getproperty Qname(PackageNamespace(""),"account")
         callproperty Qname(Namespace("kabam.rotmg.account.core:Account"),"getMoneyUserId") 0
         getlocal_0
         getproperty Qname(PackageNamespace(""),"account")
         callproperty Qname(Namespace("kabam.rotmg.account.core:Account"),"getMoneyAccessToken") 0
         getlocal_1
         callpropvoid Qname(PackageNamespace(""),"call") 4
         getlocal_0
         getproperty Qname(PackageNamespace(""),"moneyWindowModel")
         pushtrue
         setproperty Qname(PackageNamespace(""),"isInitialized")
         ofs0056:returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      private function openKabamMoneyWindowFromBrowser() : void
      {
         trait method Qname(PrivateNamespace(null,"889"),"openKabamMoneyWindowFromBrowser")
         dispid 0
         method
         name null
         returns Qname(PackageNamespace(""),"void")
         
         body
         maxstack 2
         localcount 1
         initscopedepth 4
         maxscopedepth 5
         
         code
         getlocal_0
         pushscope
         getlocal_0
         callpropvoid Qname(PrivateNamespace(null,"889"),"initializeMoneyWindow") 0
         getlocal_0
         getproperty Qname(PackageNamespace(""),"logger")
         pushstring "Attempting External Payments via KabamPayment"
         callpropvoid Qname(Namespace("robotlegs.bender.framework.api:ILogger"),"debug") 1
         getlex Qname(PackageNamespace("flash.external"),"ExternalInterface")
         pushstring "rotmg.KabamPayment.displayPaymentWall"
         callpropvoid Qname(PackageNamespace(""),"call") 1
         returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      private function requestPaymentToken() : void
      {
         trait method Qname(PrivateNamespace(null,"889"),"requestPaymentToken")
         dispid 0
         method
         name null
         returns Qname(PackageNamespace(""),"void")
         
         body
         maxstack 3
         localcount 2
         initscopedepth 4
         maxscopedepth 5
         
         code
         getlocal_0
         pushscope
         getlocal_0
         findpropstrict Qname(PackageNamespace("io.decagames.rotmg.shop"),"PreparingPurchaseTransactionModal")
         constructprop Qname(PackageNamespace("io.decagames.rotmg.shop"),"PreparingPurchaseTransactionModal") 0
         initproperty Qname(PrivateNamespace(null,"889"),"preparingModal")
         getlocal_0
         getproperty Qname(PackageNamespace(""),"showPopup")
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"889"),"preparingModal")
         callpropvoid Qname(PackageNamespace(""),"dispatch") 1
         getlocal_0
         getproperty Qname(PackageNamespace(""),"account")
         callproperty Qname(Namespace("kabam.rotmg.account.core:Account"),"getCredentials") 0
         coerce Qname(PackageNamespace(""),"Object")
         setlocal_1
         getlocal_0
         getproperty Qname(PackageNamespace(""),"client")
         pushstring "/credits/token"
         getlocal_1
         callpropvoid Qname(Namespace("kabam.rotmg.appengine.api:AppEngineClient"),"sendRequest") 2
         getlocal_0
         getproperty Qname(PackageNamespace(""),"client")
         getproperty Qname(Namespace("kabam.rotmg.appengine.api:AppEngineClient"),"complete")
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"889"),"onComplete")
         callpropvoid Qname(PackageNamespace(""),"addOnce") 1
         returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      private function onComplete(param1:Boolean, param2:*) : void
      {
         trait method Qname(PrivateNamespace(null,"889"),"onComplete")
         dispid 0
         method
         name null
         flag NEED_ACTIVATION
         param Qname(PackageNamespace(""),"Boolean")
         param null
         returns Qname(PackageNamespace(""),"void")
         
         body
         maxstack 5
         localcount 5
         initscopedepth 5
         maxscopedepth 10
         try from ofs0067 to ofs0077 target ofs007b type Qname(PackageNamespace(""),"Error") name Qname(PackageNamespace(""),"e")
         
         code
         getlocal_0
         pushscope
         newactivation
         dup
         setlocal_3
         pushscope
         getscopeobject 1
         pushnull
         coerce_s
         setslot 3
         getscopeobject 1
         getlocal_1
         setslot 1
         getscopeobject 1
         getlocal_2
         setslot 2
         getlocal_0
         getproperty Qname(PackageNamespace(""),"closePopupSignal")
         getlocal_0
         getproperty Qname(PrivateNamespace(null,"889"),"preparingModal")
         callpropvoid Qname(PackageNamespace(""),"dispatch") 1
         getscopeobject 1
         getslot 1
         iffalse ofs009b
         getscopeobject 1
         findpropstrict Qname(PackageNamespace(""),"XML")
         getscopeobject 1
         getslot 2
         callproperty Qname(PackageNamespace(""),"XML") 1
         callproperty Multiname("toString",[PrivateNamespace(null,"889"),PackageNamespace(""),PrivateNamespace(null,"1842"),PackageNamespace("kabam.rotmg.account.core.commands"),PackageInternalNs("kabam.rotmg.account.core.commands"),Namespace("http://adobe.com/AS3/2006/builtin"),ProtectedNamespace("kabam.rotmg.account.core.commands:ExternalOpenMoneyWindowCommand"),StaticProtectedNs("kabam.rotmg.account.core.commands:ExternalOpenMoneyWindowCommand")]) 0
         coerce_s
         setslot 3
         getscopeobject 1
         getslot 3
         pushstring "-1"
         ifne ofs0067
         getlocal_0
         getproperty Qname(PackageNamespace(""),"showPopup")
         findpropstrict Qname(PackageNamespace("io.decagames.rotmg.ui.popups.modal.error"),"ErrorModal")
         pushshort 350
         pushstring "Payment Error"
         pushstring "Unable to process payment request. Try again later."
         constructprop Qname(PackageNamespace("io.decagames.rotmg.ui.popups.modal.error"),"ErrorModal") 3
         callpropvoid Qname(PackageNamespace(""),"dispatch") 1
         jump ofs0097
         ofs0067:getlex Qname(PackageNamespace("flash.external"),"ExternalInterface")
         pushstring "rotmg.Paymentwall.showPaymentwall"
         getscopeobject 1
         getslot 3
         callpropvoid Qname(PackageNamespace(""),"call") 2
         ofs0077:jump ofs0097
         ofs007b:getlocal_0
         pushscope
         getlocal_3
         pushscope
         newcatch 0
         dup
         setlocal 4
         dup
         pushscope
         swap
         setslot 1
         findpropstrict Qname(PrivateNamespace(null,"889"),"openPaymentwallMoneyWindowFromStandalonePlayer")
         getscopeobject 1
         getslot 3
         callpropvoid Qname(PrivateNamespace(null,"889"),"openPaymentwallMoneyWindowFromStandalonePlayer") 1
         popscope
         kill 4
         ofs0097:jump ofs00b5
         ofs009b:getlocal_0
         getproperty Qname(PackageNamespace(""),"showPopup")
         findpropstrict Qname(PackageNamespace("io.decagames.rotmg.ui.popups.modal.error"),"ErrorModal")
         pushshort 350
         pushstring "Payment Error"
         pushstring "Unable to fetch payment information. Try again later."
         constructprop Qname(PackageNamespace("io.decagames.rotmg.ui.popups.modal.error"),"ErrorModal") 3
         callpropvoid Qname(PackageNamespace(""),"dispatch") 1
         ofs00b5:returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      private function isGoldPurchaseEnabled() : Boolean
      {
         trait method Qname(PrivateNamespace(null,"889"),"isGoldPurchaseEnabled")
         dispid 0
         method
         name null
         returns Qname(PackageNamespace(""),"Boolean")
         
         body
         maxstack 2
         localcount 1
         initscopedepth 4
         maxscopedepth 5
         
         code
         getlocal_0
         pushscope
         getlocal_0
         getproperty Qname(PackageNamespace(""),"buildData")
         callproperty Qname(Namespace("kabam.rotmg.build.api:BuildData"),"getEnvironment") 0
         getlex Qname(PackageNamespace("kabam.rotmg.build.api"),"BuildEnvironment")
         getproperty Qname(PackageNamespace(""),"TESTING")
         equals
         not
         dup
         iftrue ofs0021
         pop
         getlocal_0
         getproperty Qname(PackageNamespace(""),"playerModel")
         callproperty Qname(PackageNamespace(""),"isAdmin") 0
         convert_b
         ofs0021:returnvalue
         end ; code
         end ; body
         end ; method
      }
   }
}
