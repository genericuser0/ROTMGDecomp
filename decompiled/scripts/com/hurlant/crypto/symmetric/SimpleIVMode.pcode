package com.hurlant.crypto.symmetric
{
   import com.hurlant.util.Memory;
   import flash.utils.ByteArray;
   
   public class SimpleIVMode implements IMode, ICipher
   {
      
      {
         method
         name null
         returns null
         
         body
         maxstack 1
         localcount 1
         initscopedepth 3
         maxscopedepth 4
         
         code
         getlocal_0
         pushscope
         returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      protected var mode:IVMode;
      
      protected var cipher:ICipher;
      
      public function SimpleIVMode(param1:IVMode)
      {
         method
         name null
         param Qname(PackageNamespace("com.hurlant.crypto.symmetric"),"IVMode")
         returns null
         
         body
         maxstack 3
         localcount 2
         initscopedepth 4
         maxscopedepth 5
         
         code
         getlocal_0
         pushscope
         getlocal_0
         constructsuper 0
         getlocal_0
         getlocal_1
         initproperty Qname(ProtectedNamespace("com.hurlant.crypto.symmetric:SimpleIVMode"),"mode")
         getlocal_0
         getlocal_1
         getlex Qname(PackageNamespace("com.hurlant.crypto.symmetric"),"ICipher")
         astypelate
         initproperty Qname(ProtectedNamespace("com.hurlant.crypto.symmetric:SimpleIVMode"),"cipher")
         returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      public function getBlockSize() : uint
      {
         trait method Qname(PackageNamespace(""),"getBlockSize")
         dispid 0
         method
         name null
         returns Qname(PackageNamespace(""),"uint")
         
         body
         maxstack 1
         localcount 1
         initscopedepth 4
         maxscopedepth 5
         
         code
         getlocal_0
         pushscope
         getlocal_0
         getproperty Qname(ProtectedNamespace("com.hurlant.crypto.symmetric:SimpleIVMode"),"mode")
         callproperty Qname(PackageNamespace(""),"getBlockSize") 0
         returnvalue
         end ; code
         end ; body
         end ; method
      }
      
      public function dispose() : void
      {
         trait method Qname(PackageNamespace(""),"dispose")
         dispid 0
         method
         name null
         returns Qname(PackageNamespace(""),"void")
         
         body
         maxstack 2
         localcount 1
         initscopedepth 4
         maxscopedepth 5
         
         code
         getlocal_0
         pushscope
         getlocal_0
         getproperty Qname(ProtectedNamespace("com.hurlant.crypto.symmetric:SimpleIVMode"),"mode")
         callpropvoid Qname(PackageNamespace(""),"dispose") 0
         getlocal_0
         pushnull
         initproperty Qname(ProtectedNamespace("com.hurlant.crypto.symmetric:SimpleIVMode"),"mode")
         getlocal_0
         pushnull
         initproperty Qname(ProtectedNamespace("com.hurlant.crypto.symmetric:SimpleIVMode"),"cipher")
         getlex Qname(PackageNamespace("com.hurlant.util"),"Memory")
         callpropvoid Qname(PackageNamespace(""),"gc") 0
         returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      public function encrypt(param1:ByteArray) : void
      {
         trait method Qname(PackageNamespace(""),"encrypt")
         dispid 0
         method
         name null
         param Qname(PackageNamespace("flash.utils"),"ByteArray")
         returns Qname(PackageNamespace(""),"void")
         
         body
         maxstack 2
         localcount 3
         initscopedepth 4
         maxscopedepth 5
         
         code
         getlocal_0
         pushscope
         getlocal_0
         getproperty Qname(ProtectedNamespace("com.hurlant.crypto.symmetric:SimpleIVMode"),"cipher")
         getlocal_1
         callpropvoid Qname(Namespace("com.hurlant.crypto.symmetric:ICipher"),"encrypt") 1
         findpropstrict Qname(PackageNamespace("flash.utils"),"ByteArray")
         constructprop Qname(PackageNamespace("flash.utils"),"ByteArray") 0
         coerce Qname(PackageNamespace("flash.utils"),"ByteArray")
         setlocal_2
         getlocal_2
         getlocal_0
         getproperty Qname(ProtectedNamespace("com.hurlant.crypto.symmetric:SimpleIVMode"),"mode")
         getproperty Qname(PackageNamespace(""),"IV")
         callpropvoid Qname(PackageNamespace(""),"writeBytes") 1
         getlocal_2
         getlocal_1
         callpropvoid Qname(PackageNamespace(""),"writeBytes") 1
         getlocal_1
         pushbyte 0
         setproperty Qname(PackageNamespace(""),"position")
         getlocal_1
         getlocal_2
         callpropvoid Qname(PackageNamespace(""),"writeBytes") 1
         returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      public function decrypt(param1:ByteArray) : void
      {
         trait method Qname(PackageNamespace(""),"decrypt")
         dispid 0
         method
         name null
         param Qname(PackageNamespace("flash.utils"),"ByteArray")
         returns Qname(PackageNamespace(""),"void")
         
         body
         maxstack 4
         localcount 3
         initscopedepth 4
         maxscopedepth 5
         
         code
         getlocal_0
         pushscope
         findpropstrict Qname(PackageNamespace("flash.utils"),"ByteArray")
         constructprop Qname(PackageNamespace("flash.utils"),"ByteArray") 0
         coerce Qname(PackageNamespace("flash.utils"),"ByteArray")
         setlocal_2
         getlocal_2
         getlocal_1
         pushbyte 0
         getlocal_0
         callproperty Qname(PackageNamespace(""),"getBlockSize") 0
         callpropvoid Qname(PackageNamespace(""),"writeBytes") 3
         getlocal_0
         getproperty Qname(ProtectedNamespace("com.hurlant.crypto.symmetric:SimpleIVMode"),"mode")
         getlocal_2
         setproperty Qname(PackageNamespace(""),"IV")
         findpropstrict Qname(PackageNamespace("flash.utils"),"ByteArray")
         constructprop Qname(PackageNamespace("flash.utils"),"ByteArray") 0
         coerce Qname(PackageNamespace("flash.utils"),"ByteArray")
         setlocal_2
         getlocal_2
         getlocal_1
         getlocal_0
         callproperty Qname(PackageNamespace(""),"getBlockSize") 0
         callpropvoid Qname(PackageNamespace(""),"writeBytes") 2
         getlocal_0
         getproperty Qname(ProtectedNamespace("com.hurlant.crypto.symmetric:SimpleIVMode"),"cipher")
         getlocal_2
         callpropvoid Qname(Namespace("com.hurlant.crypto.symmetric:ICipher"),"decrypt") 1
         getlocal_1
         pushbyte 0
         setproperty Qname(PackageNamespace(""),"length")
         getlocal_1
         getlocal_2
         callpropvoid Qname(PackageNamespace(""),"writeBytes") 1
         returnvoid
         end ; code
         end ; body
         end ; method
      }
      
      public function toString() : String
      {
         trait method Qname(PackageNamespace(""),"toString")
         dispid 0
         method
         name null
         returns Qname(PackageNamespace(""),"String")
         
         body
         maxstack 2
         localcount 1
         initscopedepth 4
         maxscopedepth 5
         
         code
         getlocal_0
         pushscope
         pushstring "simple-"
         getlocal_0
         getproperty Qname(ProtectedNamespace("com.hurlant.crypto.symmetric:SimpleIVMode"),"cipher")
         callproperty Qname(Namespace("com.hurlant.crypto.symmetric:ICipher"),"toString") 0
         add
         returnvalue
         end ; code
         end ; body
         end ; method
      }
   }
}
